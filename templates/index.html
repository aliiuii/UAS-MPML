<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediksi Rating Sepatu - {{ student_name }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-indigo-100">
    <div class="container mx-auto p-4 md:p-8 max-w-2xl">
        <div class="bg-white shadow-xl rounded-2xl p-8 transition-all duration-300">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-gray-900">Prediksi Rating Sepatu</h1>
                <p class="text-gray-600 mt-2">Proyek UAS oleh: {{ student_name }}</p>
            </div>

            <form action="{{ url_for('predict') }}" method="post" class="space-y-6">
                <div>
                    <label for="brand_name" class="block text-sm font-medium text-gray-700 mb-1">Merek Sepatu</label>
                    <select name="brand_name" id="brand_name" required class="mt-1 block w-full px-3 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition">
                        {% for brand in brands %}
                        <option value="{{ brand }}">{{ brand }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div>
                    <label for="how_many_sold" class="block text-sm font-medium text-gray-700 mb-1">Jumlah Terjual</label>
                    <input type="number" name="how_many_sold" id="how_many_sold" placeholder="Contoh: 500" required class="mt-1 block w-full px-3 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition">
                </div>
                
                <div>
                    <label for="current_price" class="block text-sm font-medium text-gray-700 mb-1">Harga Saat Ini (dalam Rupee)</label>
                    <input type="number" step="0.01" name="current_price" id="current_price" placeholder="Contoh: 1099" required class="mt-1 block w-full px-3 py-3 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition">
                </div>

                <div class="text-center pt-4">
                    <button type="submit" class="w-full inline-flex items-center justify-center py-3 px-6 border border-transparent shadow-md text-base font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:translate-y-[-2px]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7l2.293-2.293a1 1 0 011.414 1.414L15.559 8.4l2.745.343a1 1 0 01.832 1.224l-1.33 4.512a1 1 0 01-1.224.832L12 13.854l-1.559 2.745a1 1 0 01-1.788-.99l.343-2.745L6.707 15.146a1 1 0 01-1.414-1.414L7.586 11.5l-4.512-1.33a1 1 0 01-.832-1.224l.343-2.745L.293 8.293a1 1 0 011.414-1.414L4 9.172 5.256 4.033A1 1 0 016.244 3h1.512a1 1 0 01.967.744L10 7.854l2.293-2.293a1 1 0 011.414 1.414L11.414 9.4l2.745.343a1 1 0 01.832 1.224l-1.33 4.512a1 1 0 01-1.224.832L8 12.854l-1.559 2.745a1 1 0 01-1.788-.99l.343-2.745L2.707 14.146a1 1 0 01-1.414-1.414L3.586 10.5l-4.512-1.33a1 1 0 01-.832-1.224l.343-2.745L.293 7.293a1 1 0 011.414-1.414L4 8.172 5.256 3.033A1 1 0 016.244 2h5.512z" clip-rule="evenodd" />
                        </svg>
                        Prediksi Rating
                    </button>
                </div>
            </form>

            {% if prediction_text %}
            <div class="mt-8 text-center p-4 rounded-lg border
                        {% if 'Error' in prediction_text %} bg-red-50 border-red-200 text-red-800 
                        {% else %} bg-green-50 border-green-200 text-green-800 {% endif %}">
                <h2 class="text-xl font-semibold">{{ prediction_text }}</h2>
            </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
